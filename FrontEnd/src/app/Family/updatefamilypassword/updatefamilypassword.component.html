<div class="flex justify-center items-center min-h-screen bg-gray-100 bg-transparent">
  <div class="w-full max-w-md bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold text-center mb-6 text-gray-800">🔐 Update Password</h2>

    <form (ngSubmit)="onUpdatePassword()" #passwordForm="ngForm" novalidate>

      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Family Name</label>
        <input type="text" name="familyname" [(ngModel)]="familyname" required
               class="form-input w-full border rounded px-3 py-2"
               #name="ngModel" />
        <p *ngIf="name.invalid && name.touched" class="text-red-500 text-sm">
          Family name is required.
        </p>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">New Password</label>
        <input type="password" name="newPassword" [(ngModel)]="newPassword"
               required [pattern]="passwordPattern"
               class="form-input w-full border rounded px-3 py-2"
               #newPass="ngModel" /> <p *ngIf="newPass.invalid && newPass.touched" class="text-red-500 text-sm">
        Password must be at least 8 characters and include upper, lower, and special character.
      </p>
      </div>

      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Confirm New Password</label>
        <input type="password" name="confirmPassword" [(ngModel)]="confirmPassword"
               required
               class="form-input w-full border rounded px-3 py-2"
               #confirmPass="ngModel" /> <p *ngIf="confirmPass.touched && newPassword !== confirmPassword" class="text-red-500 text-sm">
        Passwords do not match.
      </p>
      </div>


      <button type="submit"
              [disabled]="!passwordForm.valid || newPassword !== confirmPassword"
              class="w-full py-2 rounded text-white transition"
              [ngClass]="passwordForm.valid && newPassword === confirmPassword ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-400 cursor-not-allowed'">
        Update Password
      </button>

      <div *ngIf="passwordForm.valid && newPassword === confirmPassword" class="mt-3 text-green-700 text-sm text-center">
        ✅ Strong password. Passwords match. Ready to submit.
      </div>

      <div *ngIf="message" class="mt-4 text-center text-sm text-blue-600">
        {{ message }}
      </div>
    </form>  </div>
</div>
