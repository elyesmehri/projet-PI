<div class="mt-8 bg-transparent text-white">
  <div class="container mx-auto p-4 flex items-center justify-center">
  </div>
</div>

<div class="flex justify-center items-center min-h-screen bg-gray-100 bg-transparent">
  <div class="w-full max-w-2xl bg-white p-8 rounded-lg shadow-md">
<!--    <p class="text-4xl font-bold mb-2">Welcome, Member of Family {{ familyName }}!&ensp;</p>--->

    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-800"> Register New patient</h2>


    <form (ngSubmit)="onSubmit()" #patientForm="ngForm" novalidate>
      <!-- patient Name -->
      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">patient Name *</label>
        <input type="text" [(ngModel)]="patient_Fill.patientName" name="patientName"
               required minlength="3" class="form-input w-full"
               #name="ngModel" />
        <p *ngIf="name.invalid && name.touched" class="text-red-500 text-sm">
          Name is required (min 3 characters).
        </p>
      </div>

      <!-- Gender Switch -->
      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Gender *</label>
        <div class="flex gap-4 items-center">
          <label class="flex items-center gap-2">
            <input type="radio" name="gender" [(ngModel)]="patient_Fill.gender" [value]="'female'" required />
            <span>ðŸ‘© Female</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="gender" [(ngModel)]="patient_Fill.gender" [value]="'male'" required />
            <span>ðŸ‘¨ Male</span>
          </label>
        </div>
      </div>

      <input type="number" [(ngModel)]="patient_Fill.age" name="age"
             required min="1" max="120" class="form-input w-full text-center"
             #age="ngModel" />
      <p *ngIf="age.invalid && age.touched" class="text-red-500 text-sm">
        Age must be between 1 and 120.
      </p>


      <!-- Address -->
      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Address</label>
        <input type="text" [(ngModel)]="patient_Fill.address" name="address"
               class="form-input w-full" />
      </div>

      <!-- Phone Number -->
      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Phone Number *</label>
        <input
          type="number"
          [(ngModel)]="patient_Fill.phoneNumber"
          name="phoneNumber"
          required
          min="10000000"
          max="99999999"
          class="form-input w-full"
          #phone="ngModel"
        />
        <p *ngIf="phone.invalid && phone.touched" class="text-red-500 text-sm">
          Phone number must be exactly 8 digits.
        </p>
      </div>


      <!-- Medical State -->
      <div class="mb-4">
        <label class="block text-sm font-bold mb-1">Patient Medical State</label>
        <select [(ngModel)]="patient_Fill.medical_state" name="medical_state"
                required class="form-select w-full border rounded px-3 py-2"
                #medical_state="ngModel">
          <option value="" disabled selected>Setteling at home alone</option>
          <option value="At Hospital">At Hospital</option>
          <option value="Nursed at home">Nursed at home</option>
          <option value="At home with someone">At home with someone...</option>
        </select>
        <p *ngIf="medical_state.invalid && medical_state.touched" class="text-red-500 text-sm">
        </p>
      </div>

      <!-- Password -->
      <div class="mb-6">
        <label class="block text-sm font-bold mb-1">Password *</label>
        <input type="password" [(ngModel)]="patient_Fill.password" name="password"
               required minlength="6" class="form-input w-full"
               #password="ngModel" />
        <p class = "text-sm text-blue"> Please inform your patient about his password and copy it somewhere else</p>
        <p *ngIf="password.invalid && password.touched" class="text-red-500 text-sm">
          Password must be at least 6 characters.
        </p>
      </div>

      <div class="mb-6">
        <label class="block text-sm font-bold mb-1">Repeat Password *</label>
        <input
          type="password"
          [(ngModel)]="patient_Fill.confirmPassword"
          name="confirmPassword"
          required
          class="form-input w-full"
          #confirmPassword="ngModel"
        />
        <p *ngIf="confirmPassword.invalid && confirmPassword.touched && confirmPassword.errors?.['required']" class="text-red-500 text-sm">
          Please confirm your password.
        </p>
        <p *ngIf="patient_Fill.password !== patient_Fill.confirmPassword && confirmPassword.touched" class="text-red-500 text-sm">
          Passwords do not match.
        </p>
      </div>

      <!-- Submit -->
      <button type="submit" (click)="onSubmit()" class="bg-red-500 text-white px-4 py-2">
        Test Submit
      </button>

      <button type="submit"
              [disabled]="!patientForm.valid"
              [ngClass]="patientForm.valid ? 'bg-green-600 hover:bg-green-700' : 'bg-blue-600 hover:bg-blue-700'"
              class="w-full text-white py-2 rounded transition">
        Register
      </button>

      <!-- Hint message -->
      <div *ngIf="patientForm.valid" class="mt-2 text-green-700 text-sm text-center">
        âœ… All fields are valid. You can submit the form.
      </div>

    </form>
  </div>
</div>


